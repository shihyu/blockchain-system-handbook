<!DOCTYPE HTML>
<html lang="zh-TW" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>14. 上線與稽核檢查清單 - 工程師等級 Web3 系統全圖（完整版）</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">工程師等級 Web3 系統全圖（完整版）</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="14-上線與稽核檢查清單"><a class="header" href="#14-上線與稽核檢查清單">14. 上線與稽核檢查清單</a></h1>
<p>上線前的檢查清單是防止事故的最後一道防線。區塊鏈系統與傳統軟體最大的不同在於：合約部署後難以修改、資金損失不可逆轉、且攻擊者 24/7 全球在線。每一個檢查項背後，都對應著真實發生過的安全事故或營運災難。</p>
<p>本章將檢查清單分為五個面向：合約上線前、錢包與多簽、跨鏈與橋接、監控與營運、法遵與治理。建議團隊在每次上線前，由至少兩個獨立的人分別走完整份清單，並將結果記錄在案。不要把這份清單當成形式主義的 checkbox，而是要理解每個項目背後的「為什麼」。</p>
<hr />
<h2 id="141-合約上線前"><a class="header" href="#141-合約上線前">14.1 合約上線前</a></h2>
<h3 id="----權限矩陣完成並審核"><a class="header" href="#----權限矩陣完成並審核">- [ ] 權限矩陣完成並審核</a></h3>
<p>權限矩陣（Access Control Matrix）定義了每個角色可以呼叫哪些合約函數。這是合約安全的基礎。常見的權限角色包括 Owner、Admin、Operator、Pauser 等，每個角色應有明確定義的職責範圍。</p>
<p>在 Solidity 中，推薦使用 OpenZeppelin 的 AccessControl 合約而非簡單的 Ownable 模式，因為 AccessControl 支持多角色、角色繼承、以及角色管理的去中心化。權限矩陣應以文件形式記錄，並由至少兩個獨立的審核者驗證。</p>
<pre><code class="language-text">權限矩陣範例：
┌──────────────┬──────────┬──────────┬──────────┬──────────┐
│  函數        │  Owner   │  Admin   │ Operator │  Public  │
├──────────────┼──────────┼──────────┼──────────┼──────────┤
│ upgradeTo()  │    V     │          │          │          │
│ pause()      │    V     │    V     │          │          │
│ setFee()     │    V     │    V     │          │          │
│ execute()    │    V     │    V     │    V     │          │
│ deposit()    │    V     │    V     │    V     │    V     │
└──────────────┴──────────┴──────────┴──────────┴──────────┘
</code></pre>
<p><strong>常見陷阱</strong>：很多團隊在開發階段為了方便，將所有權限集中在一個 EOA 上，上線時忘記轉移。上線前必須確認所有管理權限已轉移到 multisig 或 timelock 合約。</p>
<h3 id="----升級路徑與-rollback-設計明確"><a class="header" href="#----升級路徑與-rollback-設計明確">- [ ] 升級路徑與 rollback 設計明確</a></h3>
<p>如果使用 Proxy Pattern（如 UUPS 或 Transparent Proxy），必須明確定義升級流程：誰有權升級、升級前需要哪些審批、升級後如何驗證新合約行為正確、以及如果升級出問題如何 rollback。</p>
<p>升級流程建議包含以下步驟：(1) 在測試網完整測試新的 implementation；(2) 使用 mainnet fork 模擬升級過程；(3) 經過多簽或治理投票審批；(4) 升級後在鏈上驗證關鍵狀態變數未被破壞；(5) 保留舊 implementation 的合約地址，以備 rollback。</p>
<p><strong>關鍵注意事項</strong>：storage layout 的相容性是升級最容易出錯的地方。新版 implementation 不能改變已有 storage 變數的順序或類型，只能在末尾追加新變數。使用 OpenZeppelin 的 <code>@openzeppelin/upgrades</code> 工具可以自動檢測 storage 衝突。</p>
<h3 id="----fuzzinvariantmainnet-fork-測試通過"><a class="header" href="#----fuzzinvariantmainnet-fork-測試通過">- [ ] fuzz/invariant/mainnet-fork 測試通過</a></h3>
<p>單元測試只能覆蓋開發者想得到的場景，fuzz testing 和 invariant testing 能發現開發者沒想到的邊界情況。使用 Foundry 的 <code>forge test --fuzz-runs 10000</code> 可以對函數輸入進行大量隨機測試，而 invariant testing 則持續驗證合約的核心不變量（如 "總供應量永遠等於所有帳戶餘額之和"）。</p>
<p>Mainnet fork testing 是上線前的最後一道驗證。它使用真實的主網狀態（包括真實的代幣餘額、真實的 DEX 流動性池）來模擬交易，能發現只在主網環境才會出現的問題（如預言機價格異常、MEV 影響等）。</p>
<pre><code class="language-bash"># Foundry mainnet fork test 範例
forge test --fork-url $ETH_RPC_URL --fork-block-number 18000000
</code></pre>
<h3 id="----重大函數有事件紀錄"><a class="header" href="#----重大函數有事件紀錄">- [ ] 重大函數有事件紀錄</a></h3>
<p>所有改變合約狀態的重大函數（特別是涉及資金轉移、權限變更、參數調整的函數）都必須 emit event。Event 是鏈上的永久紀錄，也是監控系統和前端 indexer 的資料來源。</p>
<p>沒有 event 的狀態變更就像沒有 log 的伺服器操作，出了問題無法追溯。建議為每個 admin function 都定義對應的 event，並在 event 中包含足夠的上下文資訊（如 old value、new value、caller address）。</p>
<h3 id="----pause-與-emergency-流程演練"><a class="header" href="#----pause-與-emergency-流程演練">- [ ] Pause 與 emergency 流程演練</a></h3>
<p>Pause 機制（通常使用 OpenZeppelin 的 Pausable）允許在緊急情況下暫停合約的關鍵功能。但光有 pause 功能是不夠的，團隊必須實際演練整個緊急應對流程：誰有權觸發 pause？pause 的 multisig 門檻是多少？pause 後如何通知用戶？恢復正常的條件和流程是什麼？</p>
<p><strong>最佳實踐</strong>：設置一個 emergency multisig（例如 2-of-3），其門檻低於一般操作的 multisig（例如 3-of-5），確保緊急情況下能快速反應。同時，每季度做一次「消防演練」，模擬安全事件並計時完成整個應對流程。</p>
<hr />
<h2 id="142-錢包與多簽"><a class="header" href="#142-錢包與多簽">14.2 錢包與多簽</a></h2>
<h3 id="----signer-身分與設備獨立"><a class="header" href="#----signer-身分與設備獨立">- [ ] signer 身分與設備獨立</a></h3>
<p>每一個多簽的簽名者（signer）必須使用獨立的設備和獨立的私鑰。如果兩個 signer 使用同一台電腦、或者私鑰都存在同一個 cloud backup 中，那多簽的安全性就形同虛設。</p>
<p>建議每個 signer 使用獨立的硬體錢包（如 Ledger 或 Trezor），並將恢復種子短語（seed phrase）以物理形式保管在不同地點。對於關鍵的多簽（如國庫管理），signer 應分布在不同的地理位置，避免單一地點的物理安全事件影響所有 signer。</p>
<h3 id="----簽名前模擬與可視化解碼"><a class="header" href="#----簽名前模擬與可視化解碼">- [ ] 簽名前模擬與可視化解碼</a></h3>
<p>在任何 signer 點擊「確認簽名」之前，必須能看到這筆交易的完整解碼資訊：呼叫了哪個合約的哪個函數、參數是什麼、預期的效果是什麼。盲簽（blind signing）是導致資金損失的主要原因之一。</p>
<p>使用 Tenderly 或 Safe 的交易模擬功能，可以在簽名前預覽交易的完整執行結果，包括資金流向、狀態變更等。對於 multisig 交易，建議每個 signer 都獨立驗證模擬結果，而非只依賴第一個 signer 的確認。</p>
<h3 id="----高風險交易有-timelock"><a class="header" href="#----高風險交易有-timelock">- [ ] 高風險交易有 timelock</a></h3>
<p>任何涉及大額資金轉移、權限變更、或合約升級的交易，都應該通過 timelock 合約執行。Timelock 提供了一個時間窗口（通常 24-72 小時），讓社群或安全團隊有機會審查即將執行的操作，並在發現問題時取消。</p>
<p>Timelock 的設計要點：(1) 緊急操作可以有較短的 timelock（如 6 小時）但需要更高的多簽門檻；(2) 常規操作使用標準 timelock（如 48 小時）；(3) 重大變更（如合約升級）使用更長的 timelock（如 7 天）。</p>
<h3 id="----地址白名單與限額已啟用"><a class="header" href="#----地址白名單與限額已啟用">- [ ] 地址白名單與限額已啟用</a></h3>
<p>對於機構錢包和協議國庫，應限制資金只能轉移到預先批准的地址（whitelist）。同時設置單筆和累計限額（如單筆不超過 $100K，24 小時不超過 $500K），超出限額需要更高級別的審批。</p>
<p>白名單的管理本身也需要安全控制：新增白名單地址應經過多簽審批 + timelock，避免攻擊者在控制單一 signer 後立即新增惡意地址並轉出資金。</p>
<h3 id="----signer-輪替與遺失應對已演練"><a class="header" href="#----signer-輪替與遺失應對已演練">- [ ] signer 輪替與遺失應對已演練</a></h3>
<p>隨著團隊成員變動，多簽的 signer 需要定期輪替。必須有明確的流程來：(1) 安全地移除離職成員的 signer 權限；(2) 新增新成員為 signer；(3) 應對 signer 硬體錢包遺失或損壞的情況。</p>
<p>建議每半年做一次 signer 輪替演練，確保流程順暢。同時，應在安全的離線環境中保存多簽錢包的完整配置資訊（包括合約地址、所有 signer 地址、門檻設定），以便在極端情況下重建。</p>
<hr />
<h2 id="143-跨鏈與橋接"><a class="header" href="#143-跨鏈與橋接">14.3 跨鏈與橋接</a></h2>
<h3 id="----最終性門檻按鏈別設置"><a class="header" href="#----最終性門檻按鏈別設置">- [ ] 最終性門檻按鏈別設置</a></h3>
<p>不同的區塊鏈有不同的最終性保證。Ethereum 在 2 個 epoch（約 12.8 分鐘）後達到最終性；Bitcoin 傳統上需要 6 個確認（約 60 分鐘）；而某些 L2 的最終性取決於 L1 的 settlement。跨鏈系統必須根據每條鏈的特性設置適當的確認數門檻。</p>
<p>設置過低的確認數會讓系統暴露在 reorg 攻擊的風險中（攻擊者在來源鏈重組區塊，但目標鏈已釋放資金）。設置過高則影響用戶體驗。建議根據交易金額動態調整：小額交易可以接受較低的確認數，大額交易則需要等待完整最終性。</p>
<pre><code class="language-text">建議確認數門檻：
┌──────────────┬──────────┬──────────┬──────────┐
│  鏈          │ 小額     │ 中額     │ 大額     │
├──────────────┼──────────┼──────────┼──────────┤
│ Ethereum     │ 12 blocks│ 32 blocks│ 2 epochs │
│ Bitcoin      │ 2 conf   │ 4 conf   │ 6 conf   │
│ Polygon PoS  │ 128 blks │ 256 blks │ 512 blks │
│ Arbitrum     │ L1 final │ L1 final │ L1 final │
└──────────────┴──────────┴──────────┴──────────┘
</code></pre>
<h3 id="----單筆單日跨鏈限額"><a class="header" href="#----單筆單日跨鏈限額">- [ ] 單筆/單日跨鏈限額</a></h3>
<p>跨鏈橋是區塊鏈歷史上損失最慘重的攻擊面。Ronin Bridge（$625M）、Wormhole（$320M）、Nomad（$190M）等事件都說明，橋接合約的資金池是攻擊者的首要目標。設置合理的限額是降低最大損失的關鍵措施。</p>
<p>限額應包括：(1) 單筆交易上限；(2) 單一地址 24 小時累計上限；(3) 全系統 24 小時累計上限。當接近限額時自動觸發告警，超過限額時自動暫停跨鏈功能。限額的具體數值應根據橋接資金池的總量來設定，建議單日限額不超過資金池的 10-20%。</p>
<h3 id="----bridge-依賴風險評級"><a class="header" href="#----bridge-依賴風險評級">- [ ] bridge 依賴風險評級</a></h3>
<p>如果你的系統依賴第三方跨鏈橋，必須對每個依賴的橋進行風險評級。評級維度包括：(1) 安全模型（信任假設是什麼？需要信任幾個 validator？）；(2) 歷史紀錄（是否曾被攻擊？恢復速度如何？）；(3) 代碼審計（是否經過多家知名審計公司審計？）；(4) TVL 與保險（資金池有多大？是否有保險覆蓋？）。</p>
<p><strong>最佳實踐</strong>：不要只依賴單一跨鏈橋。為關鍵路徑準備至少一個備選橋，並建立自動切換機制。同時，密切關注所依賴橋的安全公告和社群討論。</p>
<h3 id="----異常事件可自動降級或停用"><a class="header" href="#----異常事件可自動降級或停用">- [ ] 異常事件可自動降級或停用</a></h3>
<p>跨鏈系統需要有自動化的異常偵測和降級機制。例如：當偵測到來源鏈的 reorg 深度異常增大時，自動提高確認數門檻；當短時間內出現異常大量的跨鏈請求時，自動啟動限流；當橋接合約的餘額出現非預期的變動時，自動暫停跨鏈功能。</p>
<p>這些自動化機制需要與監控告警系統整合，在觸發降級的同時通知 on-call 工程師。降級後的恢復必須經過人工確認，不能自動恢復，以避免攻擊者利用恢復機制。</p>
<hr />
<h2 id="144-監控與營運"><a class="header" href="#144-監控與營運">14.4 監控與營運</a></h2>
<h3 id="----交易狀態全鏈路追蹤"><a class="header" href="#----交易狀態全鏈路追蹤">- [ ] 交易狀態全鏈路追蹤</a></h3>
<p>從用戶發起交易到鏈上確認，整個鏈路的每一步都需要可追蹤。這包括：交易接收（timestamp、來源 IP）、交易構造（參數、gas 估算）、交易提交（txHash、nonce）、交易確認（block number、status）、以及後處理（事件解析、帳本更新）。</p>
<p>建議為每筆交易分配一個內部 trace ID，在所有相關的 log 中包含這個 ID，以便在出問題時能快速串連完整鏈路。可以使用 OpenTelemetry 等分散式追蹤框架來實現。</p>
<pre><code class="language-text">交易追蹤鏈路：
Request → API → TxService → Simulation → Sign → Broadcast → Mempool → Confirm → Index → Notify
   │        │        │          │         │        │          │         │        │       │
   └────────┴────────┴──────────┴─────────┴────────┴──────────┴─────────┴────────┴───────┘
                               trace_id: 全鏈路貫穿
</code></pre>
<h3 id="----p0p1p2-告警規則生效"><a class="header" href="#----p0p1p2-告警規則生效">- [ ] P0/P1/P2 告警規則生效</a></h3>
<p>告警必須分級，避免所有告警都以最高優先級發送導致 alert fatigue。建議分為三級：</p>
<ul>
<li><strong>P0（立即回應，5 分鐘內）</strong>：合約被暫停、異常大額轉帳、私鑰可能洩漏、橋接合約餘額異常減少。P0 告警應同時通過電話、簡訊、Slack 通知 on-call 工程師。</li>
<li><strong>P1（盡快處理，1 小時內）</strong>：交易持續失敗、gas price 異常飆升、RPC 節點故障、monitoring 系統本身故障。P1 告警通過 Slack 和 PagerDuty 通知。</li>
<li><strong>P2（工作時間處理）</strong>：非關鍵交易延遲、日誌空間不足、backup 失敗。P2 告警通過 Slack channel 通知。</li>
</ul>
<p>每條告警規則都需要定期測試（建議每月一次），確保告警通道暢通且告警條件正確。</p>
<h3 id="----siem-留存完整審計資料"><a class="header" href="#----siem-留存完整審計資料">- [ ] SIEM 留存完整審計資料</a></h3>
<p>所有安全相關的事件（登入、權限變更、交易審批、配置修改）都必須送入 SIEM（Security Information and Event Management）系統，並至少保留 1 年。這不僅是合規要求，也是事故調查的必要資料。</p>
<p>SIEM 資料的完整性需要保護：使用 append-only 的儲存方式，確保日誌不能被竄改或刪除。對於敏感操作（如 admin 函數呼叫），建議同時在鏈上和鏈下都留存紀錄。</p>
<h3 id="----runbook-與-on-call-排班落地"><a class="header" href="#----runbook-與-on-call-排班落地">- [ ] Runbook 與 on-call 排班落地</a></h3>
<p>每一個 P0/P1 告警都必須有對應的 Runbook（操作手冊），詳細描述：(1) 如何確認問題；(2) 如何定位根因；(3) 如何執行修復或降級；(4) 修復後如何驗證。Runbook 應以可執行的步驟形式撰寫，而非抽象的指引。</p>
<p>On-call 排班應確保 7x24 覆蓋，每個時段至少有一個具備完整系統知識的工程師值班。on-call 工程師必須有足夠的權限來執行 Runbook 中的操作（包括 pause 合約、切換 RPC、重啟服務等），不需要等待其他人的授權。</p>
<hr />
<h2 id="145-法遵與治理"><a class="header" href="#145-法遵與治理">14.5 法遵與治理</a></h2>
<h3 id="----管理權限公開披露"><a class="header" href="#----管理權限公開披露">- [ ] 管理權限公開披露</a></h3>
<p>對於公開的協議，所有管理權限（admin keys、owner address、multisig 配置）都應公開披露。用戶有權知道誰有能力修改合約參數、暫停合約、或升級合約。隱藏管理權限是信任的紅旗。</p>
<p>披露的內容應包括：每個管理角色的地址、多簽的門檻和簽名者清單、timelock 的延遲時間、以及每個角色可以執行的操作範圍。建議在項目的官方文檔和合約的 NatSpec 中都記載這些資訊。</p>
<h3 id="----重大變更公告期與投票期"><a class="header" href="#----重大變更公告期與投票期">- [ ] 重大變更公告期與投票期</a></h3>
<p>任何影響用戶資金安全或使用體驗的變更（如費率調整、參數修改、合約升級），都應有足夠的公告期。對於 DAO 治理的協議，公告期通常由 timelock 保證；對於中心化管理的協議，建議至少提前 72 小時公告。</p>
<p>公告應透過多個管道發布（官方網站、社群媒體、Discord/Telegram、郵件通知），確保不同類型的用戶都能接收到。對於可能造成用戶損失的變更（如清算參數調整），應提供具體的影響評估和用戶應對建議。</p>
<h3 id="----災難處置與補償政策明確"><a class="header" href="#----災難處置與補償政策明確">- [ ] 災難處置與補償政策明確</a></h3>
<p>在事故發生前就應制定清晰的災難處置和補償政策。包括：(1) 什麼情況會觸發緊急處置？(2) 處置流程是什麼？(3) 用戶損失如何計算？(4) 補償的資金來源是什麼（保險、國庫、團隊儲備）？(5) 補償的時間表和方式是什麼？</p>
<p>沒有預先制定的補償政策，事故發生後的臨時決策往往會引發更大的信任危機。參考 2023 年 Euler Finance 被駭後的處理方式：他們在 24 小時內公布了完整的事故報告和補償方案，最終透過與攻擊者談判成功追回大部分資金。</p>
<hr />
<h2 id="146-上線前最終-gono-go-檢查"><a class="header" href="#146-上線前最終-gono-go-檢查">14.6 上線前最終 Go/No-Go 檢查</a></h2>
<p>在完成以上所有單項檢查後，建議進行一次正式的 Go/No-Go 會議，參與者應包括：工程負責人、安全負責人、營運負責人。會議中逐項確認以下事項：</p>
<pre><code class="language-text">Go/No-Go 決策清單：
┌────────────────────────────────────────────────────┐
│ 1. 所有審計發現已修復或有明確的風險接受決策       │
│ 2. 監控與告警系統已上線且經過驗證                 │
│ 3. On-call 排班已確認且值班人員已完成 Runbook 演練│
│ 4. Pause/Emergency 流程已演練且計時結果可接受     │
│ 5. 部署腳本已在 staging 環境驗證                  │
│ 6. 上線後的 smoke test 清單已準備                 │
│ 7. rollback 計畫已制定（含合約和前端）            │
│ 8. 溝通計畫已準備（公告、社群通知、客服準備）    │
└────────────────────────────────────────────────────┘
</code></pre>
<hr />
<h2 id="白話總結"><a class="header" href="#白話總結">白話總結</a></h2>
<p>上線前的 checklist 不是形式主義，每一個核對項都對應一種真實發生過的安全事故或營運災難。合約上線前要確保權限設計正確、升級路徑清晰、測試涵蓋充分（包括 fuzz 和 mainnet fork），並且實際演練過緊急暫停流程。錢包和多簽的安全關鍵在於：每個 signer 獨立、簽名前能看懂交易內容、高風險操作有時間鎖、以及定期演練 signer 輪替和遺失應對。跨鏈橋是歷史上損失最大的攻擊面，必須設置合理的確認數門檻和限額，並對依賴的第三方橋進行風險評級。</p>
<p>監控與營運方面，核心是全鏈路追蹤和分級告警，確保出問題時能快速發現、快速定位、快速修復。法遵方面，管理權限要公開透明、重大變更要有公告期、災難補償政策要事先制定。記住：你在安靜時期建立的流程和演練的肌肉記憶，決定了你在危機時刻能否有效反應。把這份清單當成飛行員起飛前的 preflight checklist 來對待，每次上線都認真走一遍，不要因為「上次沒出事」就跳過任何項目。</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="13-reference-architectures.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="15-glossary.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="13-reference-architectures.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="15-glossary.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
