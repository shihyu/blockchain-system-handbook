# 1. 系統全圖與分層

## 1.1 分層模型

```text
┌─────────────────────────────────────────────────────────────────┐
│ L7 產品層: App / Portal / Mobile / Bot                         │
├─────────────────────────────────────────────────────────────────┤
│ L6 服務層: API, AuthN/AuthZ, Risk Engine, Policy Engine        │
├─────────────────────────────────────────────────────────────────┤
│ L5 交易層: Tx Builder, Simulation, Bundler, Relayer            │
├─────────────────────────────────────────────────────────────────┤
│ L4 簽名層: EOA, Smart Account(AA), MPC, Multisig               │
├─────────────────────────────────────────────────────────────────┤
│ L3 鏈互動層: RPC, Node Cluster, Sequencer, Mempool             │
├─────────────────────────────────────────────────────────────────┤
│ L2 協議層: L1/L2 VM, Consensus, DA, Bridge, Oracle             │
├─────────────────────────────────────────────────────────────────┤
│ L1 密碼學層: Hash, Merkle, Signatures, ZK/Commitment           │
└─────────────────────────────────────────────────────────────────┘
```

## 1.2 信任邊界
- 邊界 A: 客戶端裝置與錢包私鑰
- 邊界 B: 應用後端與簽名服務
- 邊界 C: RPC 提供者與鏈上真實狀態
- 邊界 D: 跨鏈橋外部驗證集合

## 1.3 關鍵風險對應
- 單點私鑰: 使用 MPC 或 Multisig + 硬體隔離
- RPC 欺騙: 多來源 RPC 交叉驗證 + Block Hash Anchoring
- 跨鏈訊息偽造: 輕客戶端驗證或經濟安全模型明確化
- 治理劫持: Timelock + Guardian + Emergency Pause

## 1.4 系統設計原則
- 最小信任: 盡量把可信計算搬到鏈上
- 可驗證性: 每一筆關鍵狀態轉移都可追溯
- 漸進去中心化: 先可用，再逐步移除管理權限
- 失效安全: 任何模組失敗時預設保守停機

## 白話說明
把 Web3 系統想成金融核心系統：
- 鏈是總帳。
- 合約是交易規則。
- 錢包/多簽是簽核流程。
- 監控是稽核與風控中心。
